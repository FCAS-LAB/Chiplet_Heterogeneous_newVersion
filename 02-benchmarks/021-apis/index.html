
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../01-quick-start/">
      
      
        <link rel="next" href="../../apiProject1/group__apis__for__cpu/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.21">
    
    
      
        <title>APIs - Documents for LegoSim</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.66ac8b77.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#apis" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Documents for LegoSim" class="md-header__button md-logo" aria-label="Documents for LegoSim" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Documents for LegoSim
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              APIs
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Documents for LegoSim" class="md-nav__button md-logo" aria-label="Documents for LegoSim" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Documents for LegoSim
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-quick-start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Benchmarks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Benchmarks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="./" class="md-nav__link md-nav__link--active">
              
  
  <span class="md-ellipsis">
    APIs
  </span>
  

            </a>
            
              
              <label class="md-nav__link md-nav__link--active" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            APIs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/group__apis__for__cpu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    APIs for CPU
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/group__apis__for__cuda/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    APIs for GPU
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../022-yaml/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YAML Configuration File
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../03-sync-proto/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Synchronization Protocol
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Synchronization Protocol
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-sync-proto/030-net-proto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interconnection Simulation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-sync-proto/031-communication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Communication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-sync-proto/032-barrier/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Barrier
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-sync-proto/033-lock/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lock and Unlock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-sync-proto/034-launch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Launch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-sync-proto/035-cycle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cycle
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../04-import-sim/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Importing Simulators
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Importing Simulators
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-import-sim/041-snipersim/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Importing SniperSim
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-import-sim/043-gem5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Importing GEM5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-import-sim/042-gpgpusim/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Importing GPGPUSim
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/group__sync__proto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Synchronization protocol interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/group__pipe__comm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipe communication interface
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    interchiplet Documents
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            interchiplet Documents
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/group__cmdline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Command Line Parser
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/group__benchmark__yaml/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Yaml Configuration Interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/group__net__bench/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network benchmark interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/group__net__delay/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network latency information interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/group__cmd__handler__struct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Command handler structures
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/group__cmd__handler__func/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Command handler functions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Source Codes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Source Codes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/pages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pages list
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    modules
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            modules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    modules list
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    namespace
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            namespace
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/namespaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    namespaces list
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/namespace_members/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    namespace_members
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/namespace_member_functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    namespace_member_functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/namespace_member_variables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    namespace_member_variables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/namespace_member_typedefs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    namespace_member_typedefs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/namespace_member_enums/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    namespace_member_enums
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/namespaceInterChiplet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    InterChiplet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
        
          
          <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    classes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            classes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/annotated/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    classes list
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/classes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    classes index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/hierarchy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    classes hierarchy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/class_members/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class_members
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/class_member_functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class_member_functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/class_member_variables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class_member_variables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/class_member_typedefs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class_member_typedefs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/class_member_enums/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    class_member_enums
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/links/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    links
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/classBenchmarkConfig/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BenchmarkConfig
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/classCmdLineOptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CmdLineOptions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/classNetworkBenchItem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NetworkBenchItem
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/classNetworkBenchList/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NetworkBenchList
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/classNetworkDelayItem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NetworkDelayItem
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/classNetworkDelayMap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NetworkDelayMap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/classNetworkDelayStruct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NetworkDelayStruct
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/classInterChiplet_1_1PipeComm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PipeComm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/classInterChiplet_1_1PipeCommUnit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PipeCommUnit
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/classProcessConfig/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ProcessConfig
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/classProcessStruct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ProcessStruct
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/classSyncBarrierStruct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SyncBarrierStruct
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/classSyncClockStruct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SyncClockStruct
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/classInterChiplet_1_1SyncCommand/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SyncCommand
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/classSyncCommStruct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SyncCommStruct
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/classSyncLaunchStruct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SyncLaunchStruct
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/classSyncLockStruct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SyncLockStruct
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/classSyncPipeStruct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SyncPipeStruct
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/classSyncStruct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SyncStruct
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5" >
        
          
          <label class="md-nav__link" for="__nav_7_5" id="__nav_7_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    files
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5">
            <span class="md-nav__icon md-icon"></span>
            files
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    file list
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/macros/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    macros
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/variables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    variables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/dir_a2025b34133129e5724d121abe9a4a4a/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    interchiplet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/dir_943fa6db2bfb09b7dcf1f02346dde40e/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    interchiplet/includes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/dir_b94c70d771af9f161858c2c4e7b3d1c5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    interchiplet/srcs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/apis__c_8h/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    apis_c.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/apis__c_8cpp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    apis_c.cpp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/apis__cu_8h/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    apis_cu.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/benchmark__yaml_8h/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    benchmark_yaml.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/cmd__handler_8h/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cmd_handler.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/cmd__handler_8cpp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cmd_handler.cpp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/cmdline__options_8h/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cmdline_options.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/interchiplet_8cpp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    interchiplet.cpp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/global__define_8h/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    global_define.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/net__bench_8h/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    net_bench.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/net__delay_8h/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    net_delay.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/pipe__comm_8h/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pipe_comm.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/sync__protocol_8h/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sync_protocol.h
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6" >
        
          
          <label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    sources
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_6">
            <span class="md-nav__icon md-icon"></span>
            sources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/apis__c_8h_source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    apis_c.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/apis__c_8cpp_source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    apis_c.cpp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/apis__cu_8h_source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    apis_cu.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/benchmark__yaml_8h_source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    benchmark_yaml.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/cmd__handler_8h_source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cmd_handler.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/cmdline__options_8h_source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cmdline_options.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/interchiplet_8cpp_source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    interchiplet.cpp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/global__define_8h_source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    global_define.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/net__bench_8h_source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    net_bench.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/net__delay_8h_source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    net_delay.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/pipe__comm_8h_source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pipe_comm.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/sync__protocol_8h_source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sync_protocol.h
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apiProject1/cmd__handler_8cpp_source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cmd_handler.h
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create-source-codes-of-benchmarks" class="md-nav__link">
    <span class="md-ellipsis">
      Create Source Codes of Benchmarks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-lists" class="md-nav__link">
    <span class="md-ellipsis">
      API Lists
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API Lists">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#communication" class="md-nav__link">
    <span class="md-ellipsis">
      Communication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lock-and-unlock" class="md-nav__link">
    <span class="md-ellipsis">
      Lock and unlock
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#barrier" class="md-nav__link">
    <span class="md-ellipsis">
      Barrier
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Barrier">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#launch" class="md-nav__link">
    <span class="md-ellipsis">
      Launch
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-declaration-and-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      API Declaration and Implementation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API Declaration and Implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apis-for-cpu" class="md-nav__link">
    <span class="md-ellipsis">
      APIs for CPU
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apis-for-cuda" class="md-nav__link">
    <span class="md-ellipsis">
      APIs for CUDA
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="apis">APIs</h1>
<p>You can learn the following topics from this page:</p>
<ul>
<li>Create or modify the source code of a benchmark to execute on the LegoSim.</li>
</ul>
<h2 id="create-source-codes-of-benchmarks">Create Source Codes of Benchmarks</h2>
<p>Considering the complexity of the software stack of heterogeneous systems, it should not be expected that there will be a standard software stack available for every experimental platform on LegoSim. Hence, task partitioning and task management should be done manually. Each simulator should have one individual executable file. For example, different executable files should be provided to SniperSim and GPGPUSim. Moreover, imported simulators can share the same executable file if they perform the same task on various datasets, like Same-Task-Multiple-Data (STMD).</p>
<p>Take the <em>matmul</em> benchmark as an example. In <em>matmul</em> benchmark, the CPU generates source matrixes and sends data to GPGPUs, while three GPGPUs perform the matrix multiplex operation. Each GPGPU handles a part of the data. The <em>matmul</em> benchmark provides two executable files for SniperSim and GPGPUSim. Simulation processes of GPGPUSim share the same executable file.</p>
<p>Several APIs should be added to benchmarks to communicate and synchronize processes. In reality, similar APIs are also injected by one complete software stack (like CUDA).</p>
<h2 id="api-lists">API Lists</h2>
<blockquote>
<p>TODO: non-blocking APIs.</p>
</blockquote>
<h3 id="communication">Communication</h3>
<p>The source sends data to the destination by <code>sendMessage</code> while the destination receives data from the source by <code>receiveMessage</code>. The source and destination addresses are the same among <code>sendMessage</code> and <code>receiveMessage</code>.</p>
<p><strong>APIs for CPU</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">syscall_return_t</span><span class="w"> </span><span class="nf">sendMessage</span><span class="p">(</span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__dst_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__dst_y</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__src_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__src_y</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">__addr</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__nbyte</span><span class="p">);</span>
<span class="n">syscall_return_t</span><span class="w"> </span><span class="nf">receiveMessage</span><span class="p">(</span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__dst_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__dst_y</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__src_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__src_y</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">__addr</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__nbyte</span><span class="p">);</span>
</code></pre></div>
<p><strong>APIs for CUDA</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">cudaError_t</span><span class="w"> </span><span class="nf">sendMessage</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">__dst_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__dst_y</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__src_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__srx_y</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">__addr</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__nbyte</span><span class="p">);</span>
<span class="n">cudaError_t</span><span class="w"> </span><span class="nf">receiveMessage</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">__dst_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__dst_y</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__src_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__srx_y</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">__addr</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__nbyte</span><span class="p">);</span>
</code></pre></div>
<p><strong>Arguments</strong></p>
<ul>
<li><code>__dst_x</code> and <code>__dst_y</code> specify the destination address.</li>
<li><code>__src_x</code> and <code>__src_y</code> specify the source address.</li>
<li><code>__addr</code> specifies the pointer to the data array.</li>
<li><code>__nbyte</code> determines the number of bytes in the data array.</li>
</ul>
<p><strong>Return value</strong></p>
<ul>
<li>APIs for CPU return the result of the operation.<ul>
<li>0 means the transmission operation succeeds.</li>
<li>1 means the transmission operation fails.</li>
</ul>
</li>
<li>APIs for GPU return one value of <code>cudaError_t</code>.</li>
</ul>
<h3 id="lock-and-unlock">Lock and unlock</h3>
<p><code>lock</code> and <code>unlock</code> are used to manage the critical region. <code>lock</code> blocks the process until the mutex is locked by this request. <code>unlock</code> releases the mutex.</p>
<p><strong>APIs for CPU</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">syscall_return_t</span><span class="w"> </span><span class="nf">lock</span><span class="p">(</span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__uid</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__src_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__src_y</span><span class="p">);</span>
<span class="n">syscall_return_t</span><span class="w"> </span><span class="nf">unlock</span><span class="p">(</span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__uid</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__src_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__src_y</span><span class="p">);</span>
</code></pre></div>
<p><strong>APIs for CUDA</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">cudaError_t</span><span class="w"> </span><span class="nf">lock</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">__uid</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__src_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__src_y</span><span class="p">);</span>
<span class="n">cudaError_t</span><span class="w"> </span><span class="nf">unlock</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">__uid</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__src_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__src_y</span><span class="p">);</span>
</code></pre></div>
<p><strong>Arguments</strong></p>
<ul>
<li><code>__uid</code> specifies one unique ID of the mutex. <code>__uid</code> should not be the same as any one address in the system.</li>
<li><code>__src_x</code> and <code>__src_y</code> specify the source address.</li>
</ul>
<p><strong>Return value</strong></p>
<ul>
<li>APIs for CPU return the result of the operation.<ul>
<li>0 means the transmission operation succeeds.</li>
<li>1 means the transmission operation fails.</li>
</ul>
</li>
<li>APIs for GPU return one value of <code>cudaError_t</code>.</li>
</ul>
<h2 id="barrier">Barrier</h2>
<p>When calling <code>barrier</code>, processes are blocked until a certain number of processes enter the barrier.</p>
<p><strong>APIs for CPU</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">syscall_return_t</span><span class="w"> </span><span class="nf">barrier</span><span class="p">(</span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__uid</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__src_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__src_y</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</code></pre></div>
<p><strong>APIs for CUDA</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">cudaError_t</span><span class="w"> </span><span class="nf">barrier</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">__uid</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__src_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__src_y</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</code></pre></div>
<p><strong>Arguments</strong></p>
<ul>
<li><code>__uid</code> specifies one unique ID of the barrier. <code>__uid</code> should not be the same as any one address in the system.</li>
<li><code>__src_x</code> and <code>__src_y</code> specify the source address.</li>
<li><code>__count</code> specifies the number of threads for the barrier. If <code>__count</code> is greater than 0, the number of processes is overridden when the barrier overflows.</li>
</ul>
<p><strong>Return value</strong></p>
<ul>
<li>APIs for CPU return the result of the operation.<ul>
<li>0 means the transmission operation succeeds.</li>
<li>1 means the transmission operation fails.</li>
</ul>
</li>
<li>APIs for GPU return one value of <code>cudaError_t</code>.</li>
</ul>
<h3 id="launch">Launch</h3>
<p>When several masters share a computation resource, masters should send launch requests to the shared computation resource to start tasks.</p>
<p>The program on the master calls <code>launch</code> to launch one task on the shared computation resource. <code>launch</code> blocks the program on the master until the shared computation resource has been triggered by this request.</p>
<p>The program on the shared computation resources calls <code>waitlaunch</code> to get the launcher. <code>waitlaunch</code> blocks the task until one master triggers the task.</p>
<p>The source and destination addresses are the same among <code>launch</code> and <code>waitlaunch</code>.</p>
<p><strong>APIs for CPU</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">syscall_return_t</span><span class="w"> </span><span class="nf">launch</span><span class="p">(</span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__dst_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__dst_y</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__src_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__src_y</span><span class="p">);</span>
<span class="n">syscall_return_t</span><span class="w"> </span><span class="nf">waitLaunch</span><span class="p">(</span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__dst_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">__dst_y</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="o">*</span><span class="w"> </span><span class="n">__src_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="o">*</span><span class="w"> </span><span class="n">__src_y</span><span class="p">);</span>
</code></pre></div>
<p><strong>APIs for CUDA</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">cudaError_t</span><span class="w"> </span><span class="nf">launch</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">__dst_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__dst_y</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__src_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__src_y</span><span class="p">);</span>
<span class="n">cudaError_t</span><span class="w"> </span><span class="nf">waitLaunch</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">__dst_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">__dst_y</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">__src_x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">__src_y</span><span class="p">);</span>
</code></pre></div>
<p><strong>Arguments</strong></p>
<ul>
<li><code>__dst_x</code> and <code>__dst_y</code> specify the destination address.</li>
<li><code>__src_x</code> and <code>__src_y</code> specify the source address.</li>
</ul>
<p><strong>Return value</strong></p>
<ul>
<li>
<p><code>waitLaunch</code> returns the source of the launch command through <code>__src_x</code> and <code>__src_y</code>.</p>
</li>
<li>
<p>APIs for CPU return the result of the operation.</p>
<ul>
<li>0 means the transmission operation succeeds.</li>
<li>1 means the transmission operation fails.</li>
</ul>
</li>
<li>APIs for GPU return one value of <code>cudaError_t</code>.</li>
</ul>
<blockquote>
<p>TODO: A more flexible way to specify the source and the destination address.</p>
</blockquote>
<p><strong>Example</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">//</span>
<span class="c1">// master (0,1)</span>
<span class="c1">//</span>
<span class="p">...</span>
<span class="c1">// Launch task on the slave.</span>
<span class="n">launch</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="c1">// Send data to the slave.</span>
<span class="n">sendMessage</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">src_data</span><span class="p">,</span><span class="w"> </span><span class="mi">1024</span><span class="p">);</span>
<span class="c1">// Wait and receive data from the slave.</span>
<span class="n">receiveMessage</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">dst_data</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
<span class="p">...</span>

<span class="c1">//</span>
<span class="c1">// slave (0, 0)</span>
<span class="c1">//</span>
<span class="p">...</span>
<span class="c1">// Wait launcher</span>
<span class="kt">int64_t</span><span class="w"> </span><span class="n">src_x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="n">src_y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="n">waitlaunch</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">src_x</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">src_y</span><span class="p">);</span>
<span class="c1">// Receive data from the master.</span>
<span class="n">receiveMessage</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">src_data</span><span class="p">,</span><span class="w"> </span><span class="mi">1024</span><span class="p">);</span>
<span class="c1">// Run task.</span>
<span class="p">...</span>
<span class="c1">// Send data to the master.</span>
<span class="n">sendMessage</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">dst_data</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">);</span>
<span class="p">...</span>
</code></pre></div>
<h2 id="api-declaration-and-implementation">API Declaration and Implementation</h2>
<h3 id="apis-for-cpu">APIs for CPU</h3>
<p>The declaration of APIs for CPUs is provided in <a href="../../apiProject1/apis__c_8h/"><code>$SIMULATOR_ROOT/interchiplet/includes/apis_c.h</code></a>. The implementation of these APIs is compiled into a static library <code>$SIMULATOR_ROOT/interchiplet/lib/libinterchiplet_c.a</code>, which should be linked to the benchmark.</p>
<p>APIs on CPUs are implemented by system calls. System Calls can have a number of arguments. The mapping between APIs and system calls is listed below:</p>
<table>
<thead>
<tr>
<th>API</th>
<th>System Call ID</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>launch</code></td>
<td><code>SYSCALL_LAUNCH</code></td>
</tr>
<tr>
<td><code>waitLaunch</code></td>
<td><code>SYSCALL_WAITLAUNCH</code></td>
</tr>
<tr>
<td><code>lock</code></td>
<td><code>SYSCALL_LOCK</code></td>
</tr>
<tr>
<td><code>unlock</code></td>
<td><code>SYSCALL_UNLOCK</code></td>
</tr>
<tr>
<td><code>barrier</code></td>
<td><code>SYSCALL_BARRIER</code></td>
</tr>
<tr>
<td><code>sendMessage</code></td>
<td><code>SYSCALL_REMOTE_WRITE</code></td>
</tr>
<tr>
<td><code>receiveMessage</code></td>
<td><code>SYSCALL_REMOTE_READ</code></td>
</tr>
</tbody>
</table>
<h3 id="apis-for-cuda">APIs for CUDA</h3>
<p>APIs on CUDA platforms are implemented by built-in CUDA APIs. The declaration of these APIs is provided in <a href="../../apiProject1/apis__cu_8h/"><code>$SIMULATOR_ROOT/interchiplet/includes/apis_cu.h</code></a>. The implementation of these APIs is provided by the CUDA simulator, like GPGPU-Sim. Hence, when compiling executable files for CUDA platforms, the specified CUDA library should be provided as below:</p>
<div class="highlight"><pre><span></span><code><span class="c"># CUDA language target</span>
<span class="nf">CUDA_target</span><span class="o">:</span><span class="w"> </span><span class="k">$(</span><span class="nv">CUDA_OBJS</span><span class="k">)</span>
<span class="w">    </span><span class="k">$(</span>NVCC<span class="k">)</span><span class="w"> </span>-L<span class="k">$(</span>SIMULATOR_ROOT<span class="k">)</span>/gpgpu-sim/lib/<span class="k">$(</span>GPGPUSIM_CONFIG<span class="k">)</span><span class="w"> </span>--cudart<span class="w"> </span>shared<span class="w"> </span><span class="k">$(</span>CUDA_OBJS<span class="k">)</span><span class="w"> </span>-o<span class="w"> </span><span class="k">$(</span>CUDA_TARGET<span class="k">)</span>
</code></pre></div>
<blockquote>
<p>TODO: A more flexible way to specify the source and the destination address.</p>
</blockquote>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.indexes"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.a7c05c9e.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>